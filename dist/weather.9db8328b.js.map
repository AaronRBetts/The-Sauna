{"version":3,"sources":["weather.js"],"names":["getResults","searchbox","document","querySelector","setQuery","evt","keyCode","value","console","log","query","fetch","then","weather","json","displayResults","innerText","name","sys","country","now","Date","dateBuilder","innerHTML","Math","round","main","temp","temp_min","temp_max","d","months","day","getDay","date","getDate","month","getMonth","year","getFullYear","addEventListener"],"mappings":";AACEA,EAAW,WAEX,IAAMC,EAAYC,SAASC,cAAc,uBAGzC,SAASC,EAASC,GACG,IAAfA,EAAIC,UACNN,EAAWC,EAAUM,OACrBC,QAAQC,IAAIR,EAAUM,QAI1B,SAASP,EAAYU,GACnBC,MAA2DD,qDAAAA,OAAAA,EAA3D,wBAAA,OAAA,qCACGE,KAAK,SAAAC,GACGA,OAAAA,EAAQC,SACdF,KAAKG,GAGZ,SAASA,EAAgBF,GACZX,SAASC,cAAc,mBAC7Ba,UAAeH,GAAAA,OAAAA,EAAQI,KAASJ,MAAAA,OAAAA,EAAQK,IAAIC,SAE7CC,IAAAA,EAAM,IAAIC,KACHnB,SAASC,cAAc,mBAC7Ba,UAAYM,EAAYF,GAElBlB,SAASC,cAAc,kBAC7BoB,UAAeC,GAAAA,OAAAA,KAAKC,MAAMZ,EAAQa,KAAKC,MAA5C,mBAEiBzB,SAASC,cAAc,qBAC7Ba,UAAYH,EAAQA,QAAQ,GAAGa,KAE9BxB,SAASC,cAAc,WAC7Ba,UAAsBQ,UAAAA,OAAAA,KAAKC,MAAMZ,EAAQa,KAAKE,UAAyBJ,iBAAAA,OAAAA,KAAKC,MAAMZ,EAAQa,KAAKG,UAArG,MAGF,SAASP,EAAaQ,GAChBC,IAGAC,EAFO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAE/DF,EAAEG,UACbC,EAAOJ,EAAEK,UACTC,EALS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAKzGN,EAAEO,YACjBC,EAAOR,EAAES,cAEHP,MAAAA,GAAAA,OAAAA,EAAOE,KAAAA,OAAAA,EAAQE,KAAAA,OAAAA,EAASE,KAAAA,OAAAA,GA3CpCrC,EAAUuC,iBAAiB,WAAYpC","file":"weather.9db8328b.js","sourceRoot":"..","sourcesContent":["\r\n  getResults(\"tampere\");\r\n\r\n  const searchbox = document.querySelector('.weather-search-box');\r\n  searchbox.addEventListener('keypress', setQuery);\r\n  \r\n  function setQuery(evt) {\r\n    if (evt.keyCode == 13) {\r\n      getResults(searchbox.value);\r\n      console.log(searchbox.value);\r\n    }\r\n  }\r\n  \r\n  function getResults (query) {\r\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${query}&units=metric&APPID=${process.env.WEATHER_API_KEY}`)\r\n      .then(weather => {\r\n        return weather.json();\r\n      }).then(displayResults);\r\n  }\r\n  \r\n  function displayResults (weather) {\r\n    let city = document.querySelector('.location .city');\r\n    city.innerText = `${weather.name}, ${weather.sys.country}`;\r\n  \r\n    let now = new Date();\r\n    let date = document.querySelector('.location .date');\r\n    date.innerText = dateBuilder(now);\r\n  \r\n    let temp = document.querySelector('.current .temp');\r\n    temp.innerHTML = `${Math.round(weather.main.temp)}<span>°c</span>`;\r\n  \r\n    let weather_el = document.querySelector('.current .weather');\r\n    weather_el.innerText = weather.weather[0].main;\r\n  \r\n    let hilow = document.querySelector('.hi-low');\r\n    hilow.innerText = `low of ${Math.round(weather.main.temp_min)}°c / high of ${Math.round(weather.main.temp_max)}°c`;\r\n  }\r\n  \r\n  function dateBuilder (d) {\r\n    let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    let days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n  \r\n    let day = days[d.getDay()];\r\n    let date = d.getDate();\r\n    let month = months[d.getMonth()];\r\n    let year = d.getFullYear();\r\n  \r\n    return `${day} ${date} ${month} ${year}`;\r\n  }"]}